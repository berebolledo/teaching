table.margins(ct)
??margins
marginSums(ct)
ct
ct <- t(ct)
ct
#   Rename rows and columns
colnames(ct) <- c("No", "Si")
rownames(ct) <- c("No", "Si")
ct
#   Add column and row totals for visualization only
table.margins(ct)
#   Add column and row totals for visualization only
table.margins(ct)
library(epitools)
#   Add column and row totals for visualization only
table.margins(ct)
# B. Evaluate relationship -----------------------------------------------
chisq.test(ct, correct = FALSE)
tab2by2.test(x = ct, rev = 'neither', correction = TRUE)
# B. Evaluate relationship -----------------------------------------------
chisq.test(ct, correct = FALSE)
View(data)
logreg <- glm(FALLECIDO ~ COMORBIL, data = data, family = "binomial")
# Model statistics
summary(logreg)
library(jtools)
# Model statistics
summ(logreg)
nagelkerke(logreg)
# Model statistics
summ(logreg)
?summ
# Model statistics
summ(logreg, exp = TRUE)
ct
data$SEXO <- as.factor(data$SEXO)
logreg1 <- glm(FALLECIDO ~ COMORBIL, data = data, family = "binomial")
logreg2 <- glm(FALLECIDO ~ ASPIRACI, data = data, family = "binomial")
logreg3 <- glm(FALLECIDO ~ FREQRESP, data = data, family = "binomial")
logreg4 <- glm(FALLECIDO ~ EDAD, data = data, family = "binomial")
logreg3 <- glm(FALLECIDO ~ FREQRESP, data = data, family = "binomial")
logreg3 <- glm(FALLECIDO ~ FRECRESP, data = data, family = "binomial")
logreg4 <- glm(FALLECIDO ~ EDAD, data = data, family = "binomial")
logreg5 <- glm(FALLECIDO ~ SEXO, data = data, family = "binomial")
summ(logreg1, log = TRUE)
summ(logreg1, exp = TRUE)
summ(logreg2, exp = TRUE)
summ(logreg3, exp = TRUE)
summ(logreg4, exp = TRUE)
summ(logreg5, exp = TRUE)
# MULTIPLE "ENTER" (SPSS) METHOD - OR SIMPLY "FULL" MODEL
logmulreg <- glm(FALLECIDO ~ COMORBIL + ASPIRACI + FRECRESP + EDAD)
# MULTIPLE "ENTER" (SPSS) METHOD - OR SIMPLY "FULL" MODEL
logmulreg <- glm(FALLECIDO ~ COMORBIL + ASPIRACI + FRECRESP + EDAD, data = data , family = "binomial")
summ(logmulreg)
summ(logmulreg, exp = TRUE)
library(olsrr)
# MULTIPLE "ENTER" (SPSS) METHOD - OR SIMPLY "FULL" MODEL ----------------
logmulti <- glm(FALLECIDO ~ COMORBIL + ASPIRACI + FRECRESP + EDAD, data = data , family = "binomial")
summ(logmulti, exp = TRUE)
m2 <- ols_step_backward_p(logmulti, details = TRUE)
library(MASS)
m1 <- stepAIC(logmulti, direction = "both", trace=FALSE)
summ(m1)
m1 <- stepAIC(logmulti, direction = "forward", trace=FALSE)
m1 <- stepAIC(logmulti, direction = "forward", trace=FALSE)
m2 <- stepAIC(logmulti, direction = "backward", trace=FALSE)
m3 <- stepAIC(logmulti, direction = "both", trace=FALSE)
if(!require(MASS)){
install.packages("MASS")
library(MASS)
}
m1 <- stepAIC(logmulti, direction = "forward", trace=FALSE)
m2 <- stepAIC(logmulti, direction = "backward", trace=FALSE)
m3 <- stepAIC(logmulti, direction = "both", trace=FALSE)
summ(m1)
summ(m1, exp = TRUE)
summ(m2, exp = TRUE)
summ(m3, exp = TRUE)
summ(m1, exp = TRUE)
m2 <- stepAIC(logmulti, direction = "backward", trace=FALSE)
m3 <- stepAIC(logmulti, direction = "both", trace=FALSE)
summ(m3, exp = TRUE)
summ(m1, exp = TRUE)
summ(m1, exp = TRUE)
summ(logmulti, exp = TRUE)
# MULTIPLE "ENTER" (SPSS) METHOD - OR SIMPLY "FULL" MODEL ----------------
logmulti <- glm(FALLECIDO ~ COMORBIL + ASPIRACI + FRECRESP + EDAD, data = data , family = "binomial")
summ(logmulti, exp = TRUE)
m1 <- stepAIC(logmulti, direction = "forward", trace=FALSE)
summ(m1, exp = TRUE)
m2 <- stepAIC(logmulti, direction = "backward", trace=FALSE)
summ(m2, exp = TRUE)
summ(m3, exp = TRUE)
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = TRUE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct
chisq.test(ct)
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
chisq.test(ct)
ct
row.names(ct) <- c("<40", "40-75", ">75")
col.names(ct) <- c("No", "Si")
rownames(ct) <- c("<40", "40-75", ">75")
colnames(ct) <- c("No", "Si")
chisq.test(ct)
ct
chisq.test(ct)
expected(ct)
# Build regression model
agelogreg <- glm(FALLECIDO ~ ageCategory, data = data, family = "binomial")
summ(agelogreg, exp = TRUE )
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = FALSE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-75", ">75")
colnames(ct) <- c("No", "Si")
ct
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 74, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = FALSE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-7", ">75")
colnames(ct) <- c("No", "Si")
ct
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 74, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = TRUE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-7", ">75")
colnames(ct) <- c("No", "Si")
ct
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = TRUE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-7", ">75")
colnames(ct) <- c("No", "Si")
ct
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = TRUE)
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = TRUE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-75", ">75")
colnames(ct) <- c("No", "Si")
ct
?cut
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = TRUE, right = TRUE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-75", ">75")
colnames(ct) <- c("No", "Si")
ct
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = FALSE, right = TRUE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-75", ">75")
colnames(ct) <- c("No", "Si")
ct
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(40, 75),
labels=c(0, 1, 2), include.lowest = TRUE)
# Multilevel variables ---------------------------------------------------------
# Define age ranges <40, >=40&<75, >=75
ageCategory <- cut(data$EDAD,
breaks=c(min(data$EDAD), 40, 75, max(data$EDAD)),
labels=c(0, 1, 2), include.lowest = FALSE)
data$ageCategory <- factor(ageCategory, levels = c(0,1,2))
# Check frequency distribution
table(ageCategory)
# Evaluate relationship between variables
ct <- xtabs(data = data[, c("FALLECIDO", "ageCategory")])
ct <- t(ct)
rownames(ct) <- c("<40", "40-75", ">75")
colnames(ct) <- c("No", "Si")
ct
expected(ct)
chisq.test(ct)
# Build simple regression model
agelogreg <- glm(FALLECIDO ~ ageCategory, data = data, family = "binomial")
summ(agelogreg, exp = TRUE )
d <- data[, c("FALLECIDO", "ageCategory")]
dummydata <- dummy_cols(d, select_columns = 'ageCategory', remove_selected_columns = TRUE)
View(dummydata)
summ(dummyreg, exp = TRUE)
d <- data[, c("FALLECIDO", "ageCategory")]
dummydata <- dummy_cols(d, select_columns = 'ageCategory', remove_selected_columns = TRUE)
View(dummydata)
dummyreg <- glm(FALLECIDO ~ ageCategory, data = data, family = "binomial")
summ(dummyreg, exp = TRUE)
dummyreg <- glm(FALLECIDO ~ ageCategory, data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
dummyreg <- glm(FALLECIDO ~ ., data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
dummyreg <- glm(FALLECIDO ~ ., data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
?dummy_cols
d <- data[, c("FALLECIDO", "ageCategory")]
View(d)
dummydata <- dummy_cols(d, select_columns = 'ageCategory', remove_selected_columns = TRUE)
View(dummydata)
dummyreg <- glm(FALLECIDO ~ ., data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
summary(dummyreg)
summary(dummyreg)
exp(coef(dummyreg))
exp(confint(dummyreg))
nagelkerke(dummyreg)
summ(dummyreg, exp = TRUE)
class(dummydata$ageCategory_0)
class(dummydata$ageCategory_1)
apply(dummydata, 2, as.factor)
dummydata <- apply(dummydata, 2, as.factor)
dummyreg <- glm(FALLECIDO ~ ageCategory, data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
d <- data[, c("FALLECIDO", "ageCategory")]
dummydata <- dummy_cols(d, select_columns = 'ageCategory', remove_selected_columns = TRUE)
dummydata$FALLECIDO <- as.factor(dummydata$FALLECIDO)
dummydata$ageCategory_0 <- as.factor(dummydata$ageCategory_0)
dummydata$ageCategory_1 <- as.factor(dummydata$ageCategory_1)
dummydata$ageCategory_2 <- as.factor(dummydata$ageCategory_2)
dummydata$ageCategory_NA <- as.factor(dummydata$ageCategory_NA)
dummyreg <- glm(FALLECIDO ~ ageCategory, data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
class(dummydata$ageCategory_1)
dummyreg <- glm(FALLECIDO ~ ageCategory, data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
d <- data[, c("FALLECIDO", "ageCategory")]
dummydata <- dummy_cols(d, select_columns = 'ageCategory', remove_selected_columns = TRUE)
dummydata$FALLECIDO <- as.factor(dummydata$FALLECIDO)
dummydata$ageCategory_0 <- as.factor(dummydata$ageCategory_0)
dummydata$ageCategory_1 <- as.factor(dummydata$ageCategory_1)
dummydata$ageCategory_2 <- as.factor(dummydata$ageCategory_2)
dummydata$ageCategory_NA <- as.factor(dummydata$ageCategory_NA)
source("~/Desktop/taller/scripts/Untitled.R", echo=TRUE)
d <- data[, c("FALLECIDO", "ageCategory")]
dummydata <- dummy_cols(d, select_columns = 'ageCategory', remove_selected_columns = TRUE)
dummydata$FALLECIDO <- as.factor(dummydata$FALLECIDO)
dummydata$ageCategory_0 <- as.factor(dummydata$ageCategory_0)
dummydata$ageCategory_1 <- as.factor(dummydata$ageCategory_1)
dummydata$ageCategory_2 <- as.factor(dummydata$ageCategory_2)
dummydata$ageCategory_NA <- as.factor(dummydata$ageCategory_NA)
dummyreg <- glm(FALLECIDO ~ ageCategory, data = d, family = "binomial")
summ(dummyreg, exp = TRUE)
summary(dummyreg)
View(dummydata)
d <- c( 0.57216, 0.51625, 0.49471, 0.4891, 50.48515)
plot(d)
d <- c( 0.57216, 0.51625, 0.49471, 0.48915, 0.48515)
plot(d)
plot(d, '-')
plot(d, type = '-')
plot(d, type = 'b')
plot(d, type = 'b', xlab = "K", ylab = "CV")
library(readxl)
mitocarta <- read_excel("Desktop/Human.MitoCarta3.0.xls",
sheet = "A Human MitoCarta3.0")
View(mitocarta)
library(AnnotationHub)
install.packages("AnnotationHub")
library("org.Hs.eg.db")
intall.packages("org.Hs.eg.db")
install.packages("org.Hs.eg.db")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("org.Hs.eg.db")
BiocManager::install("AnnotationHub")
library(AnnotationHub)
library("org.Hs.eg.db")
hs <- org.Hs.eg.db
ids2 <- as.character(mitocarta$HumanGeneID)
AnnotationDbi::mapIds(hs, keys = ids2, column='SYMBOL', keytype='ENTREZID')
symbol <- AnnotationDbi::mapIds(hs, keys = ids2, column='SYMBOL', keytype='ENTREZID')
head(symbol)
library(TxDb.Hsapiens.UCSC.hg38.knownGene)
BiocManager::install("TxDb.Hsapiens.UCSC.hg38.knownGene")
library("TxDb.Hsapiens.UCSC.hg38.knownGene")
ls
ls('package:TxDb.Hsapiens.UCSC.hg38.knownGene')
TxDb.Hsapiens.UCSC.hg38.knownGene
?TxDb.Hsapiens.UCSC.hg38.knownGene
tx <- transcripts(TxDb.Hsapiens.UCSC.hg38.knownGene)
View(tx)
head(tx)
head(symbol)
install.apckages("biomaRt")
install.packages("biomaRt")
install.packages("biomaRt")
install.packages("biomaRt")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("biomaRt")
BiocManager::install("biomaRt", force = TRUE)
library(biomaRt)
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "grch38.ensembl
)
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "grch38.ensembl")
?useMart
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "grch37.ensembl")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "grch38.ensembl.org")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://grch38.ensembl.org")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://grch37.ensembl.org")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://hg38.ensembl.org")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://www.ensembl.org/Homo_sapiens")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://www.ensembl.org")
rm(ensembl)
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://www.ensembl.org/Homo_sapiens")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://www.ensembl.org")
ensembl <- useMart("ENSEMBL_MART_ENSEMBL", dataset = "hsapiens_gene_ensembl", host = "https://www.feb2023.ensembl.org")
ensembl <- useMart("ensembl", dataset = "hsapiens_gene_ensembl")
library(biomaRt)
ensembl <- useMart("ensembl", dataset = "hsapiens_gene_ensembl")
quit()
090623_WESChileN386_ApplyVQSR_SNP_INDEL.hg38_multianno_plink <- read.csv("~/Desktop/090623_WESChileN386_ApplyVQSR_SNP_INDEL.hg38_multianno_plink.csv")
library(readr)
db <- read_csv("Desktop/090623_WESChileN386_ApplyVQSR_SNP_INDEL.hg38_multianno_plink.csv")
View(db)
library(dplyr)
db %>%
filter(Gene.refGene = "HCN1")
db %>%
filter(!grepl('HCN1', Gene.refGene))
db %>%
filter(grepl('HCN1', Gene.refGene))
View(db %>%
filter(grepl('HCN1', Gene.refGene)))
save.image("~/Library/CloudStorage/GoogleDrive-berebolledo@gmail.com/My Drive/UDD/research/bioinformatics/SABIO/projects/00_my_research/01_colabs/decipherd/searchWES/searchWES.RData")
load("~/Library/CloudStorage/GoogleDrive-berebolledo@gmail.com/My Drive/UDD/research/bioinformatics/SABIO/projects/00_my_research/01_colabs/decipherd/searchWES/searchWES.RData")
library(dplyr)
View(db %>%
filter(grepl('CHD3', Gene.refGene)))
View(db %>%
filter(grepl('NAA15', Gene.refGene)))
View(db %>%
filter(grepl('CLCN3', Gene.refGene)))
View(db %>%
filter(grepl('GRIK2', Gene.refGene)))
View(db %>%
filter(grepl('SMOC1', Gene.refGene)))
View(db %>%
filter(grepl('CDC42BPB', Gene.refGene)))
View(db %>%
filter(grepl('TLK2', Gene.refGene)))
View(db %>%
filter(grepl('GOLGA6L10', Gene.refGene)))
View(db %>%
filter(grepl('TTN', Gene.refGene)))
.libPaths()
q()
library(ggplot2)
q()
library(readxl)
wc <- read_excel("Desktop/Wordcloud - Epigenética - Medicina 2024(1-1).xlsx")
View(wc)
wc[,9]
strsplit(wc[,9])
strsplit(wc[,9], split = " ")
strsplit(wc[,9], split = "")
strsplit(wc[,9], split = \\s+)
strsplit(wc[,9], split = "\\s+")
exit()
quit()
?cohen
??cohen
?ES.h
??ES.h
library(effsize)
install.packages("effsize")
library(effsize)
install.packages("pwr")
library(pwr)
?ES.h
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.9, type = "two.sample")
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.9, type = "two.sample", "less")
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.9, type = "two.sample", alternative = "less")
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.9)
234*1.1
234*1.1 * 2
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.8)
175*1.1
175*1.1*2
pwr.t.test(d = 0.4, sig.level = 0.05, power = 0.8)
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.8)
?ES.h
cohen.ES(test = "t", size = "medium")
cohen.ES(test = "t", size = "small")
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.8)
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.9)
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.8)
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.8)
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.9)
pwr.t.test(d = 0.4, sig.level = 0.05, power = 0.9)
pwr.t.test(d = 0.4, sig.level = 0.05, power = 0.8)
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.8)
pwr.t.test(d = 0.2, sig.level = 0.05, power = 0.8)
pwr.t.test(d = 0.3, sig.level = 0.05, power = 0.8)
setwd("/Users/boris/Library/CloudStorage/GoogleDrive-berebolledo@gmail.com/My Drive/UDD/research/bioinformatics/SABIO/projects/01_teaching/2024_DCIM/BIOESTADISTICA/GRD/input")
library(readr)      # Lector de datos
library(xlsx)       # Escritor de datos en formato Excel
library(epiDisplay) # Funciones epidemiologicas
library(ggplot2)    # Graficos
library(tidyverse)  # Manipulacion de tablas
library(gtsummary)  # Creacion de tablas resumen
library(pwr)        # Analisis de potencia y calculo de n para tests
library(summarytools)
# Lectura de tabla
grd22 <- read_delim("grd22_1000.txt",
delim = "|", escape_double = FALSE,
locale = locale(encoding = "UTF-16"),
trim_ws = TRUE)
# Ver tabla
View(grd22)
# Arreglar columna IR_29301_PESO para que sea numerica
grd22$IR_29301_PESO <- as.numeric(gsub(",", ".", grd22$IR_29301_PESO))
# Ejemplo de seleccion de variables
grd22 %>% select(SEXO, ETNIA, TIPO_INGRESO, DIAGNOSTICO1, IR_29301_PESO)
# Ejemplo de filtrado por condicion
grd22 %>% filter(TIPO_INGRESO == "URGENCIA")
# Ejemplo: Solo las filas con CIE10 K35.XX
grd22 %>% filter(grepl("K35\\.[0-9]*", grd22$DIAGNOSTICO1))
# Selecciona, filtra y guarda en un nuevo archivo
mydat <- grd22 %>%
select(SEXO, ETNIA, TIPO_INGRESO, DIAGNOSTICO1,IR_29301_PESO) %>%
filter(grepl("K35\\.[0-9]*", grd22$DIAGNOSTICO1))
write.csv(mydat, "mydat.csv", row.names = FALSE)
dfSummary(mydat)
freq.table <-  dfSummary(mydat)
# Guarda la tabla en Excel
write.xlsx(freq.table, "freq.table.xlsx")
setwd("/Users/boris/Library/CloudStorage/GoogleDrive-berebolledo@gmail.com/My Drive/UDD/research/bioinformatics/SABIO/projects/03_github_repos/teaching/Bioestadistica")
library(readr)
data <- read_delim("~/Library/CloudStorage/GoogleDrive-berebolledo@gmail.com/My Drive/UDD/research/bioinformatics/SABIO/projects/01_teaching/2024_DCIM/BIOESTADISTICA/GRD/GRD_PUBLICO_EXTERNO_2022.txt",
delim = "|", escape_double = FALSE, locale = locale(encoding = "UTF-16"),
trim_ws = TRUE)
View(data)
table(data$DIAGNOSTICO1)
t(table(data$DIAGNOSTICO1))
View(t(table(data$DIAGNOSTICO1)))
View((table(data$DIAGNOSTICO1)))
write.csv((table(data$DIAGNOSTICO1)), "~/Desktop/grd22_frecuencia_diag1.txt", row.names = F )
